<div class="min-vh-100 d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #111827, #134e4a);">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-sm-10 col-md-7 col-lg-5">

        <div class="text-center mb-4">
          <div class="rounded-circle d-inline-flex align-items-center justify-content-center mb-3"
               style="width: 64px; height: 64px; background: rgba(15,118,110,0.25);">
            <i class="bi bi-shield-lock text-white fs-3"></i>
          </div>
          <h2 class="fw-bold text-white mb-1">Set a new password</h2>
          <p class="text-white-50 small">Choose something strong and memorable.</p>
        </div>

        <div class="card border-0 shadow-lg" style="border-radius: 1rem;">
          <div class="card-body p-4 p-md-5">

            <div id="invalidState" class="d-none text-center py-3">
              <div class="rounded-circle bg-danger d-inline-flex align-items-center justify-content-center mb-3"
                   style="width: 56px; height: 56px; background: rgba(239,68,68,0.15) !important;">
                <i class="bi bi-exclamation-triangle-fill text-danger fs-4"></i>
              </div>
              <h5 class="fw-bold mb-2">Link expired or invalid</h5>
              <p class="text-muted mb-4">This password reset link has expired or already been used. Please request a new one.</p>
              <button class="btn btn-primary btn-sm" onclick="loadPage('forgotPassword')">
                Request new link
              </button>
            </div>

            <div id="successState" class="d-none text-center py-3">
              <div class="rounded-circle bg-success-soft d-inline-flex align-items-center justify-content-center mb-3"
                   style="width: 56px; height: 56px;">
                <i class="bi bi-check-circle-fill text-success fs-4"></i>
              </div>
              <h5 class="fw-bold mb-2">Password updated!</h5>
              <p class="text-muted mb-4">Your password has been changed successfully. You can now sign in with your new password.</p>
              <button class="btn btn-primary" onclick="loadPage('login')">
                <i class="bi bi-box-arrow-in-right me-1"></i>Sign In
              </button>
            </div>

            <form id="resetForm" novalidate>
              <div class="mb-3">
                <label for="newPassword" class="form-label fw-semibold">New Password</label>
                <div class="input-group">
                  <input id="newPassword" type="password" class="form-control form-control-lg" placeholder="Min. 8 characters" minlength="8" required>
                  <button class="btn btn-outline-secondary" type="button" id="toggleNew" tabindex="-1">
                    <i class="bi bi-eye"></i>
                  </button>
                </div>
              </div>

              <div class="mb-4">
                <label for="confirmPassword" class="form-label fw-semibold">Confirm Password</label>
                <div class="input-group">
                  <input id="confirmPassword" type="password" class="form-control form-control-lg" placeholder="Repeat new password" required>
                  <button class="btn btn-outline-secondary" type="button" id="toggleConfirm" tabindex="-1">
                    <i class="bi bi-eye"></i>
                  </button>
                </div>
              </div>

              <div id="resetMessage" class="alert d-none mb-3"></div>

              <button id="resetBtn" type="submit" class="btn btn-primary w-100 btn-lg fw-bold">
                <i class="bi bi-lock me-2"></i>Update Password
              </button>
            </form>

          </div>
        </div>

      </div>
    </div>
  </div>
</div>
